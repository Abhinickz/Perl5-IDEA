Perl5
  PsiPerlStatementImpl(PerlElementType.STATEMENT)
    PsiPerlReplacementRegexImpl(PerlElementType.REPLACEMENT_REGEX)
      PsiElement(PerlTokenType.s)('s')
      PsiElement(PerlTokenType.r{)('/')
      PsiPerlPerlRegexImpl(PerlElementType.PERL_REGEX)
        PsiElement(PerlTokenType.regex)('a')
        PsiElement(PerlTokenType.regex)('s')
        PsiElement(PerlTokenType.regex)('d[')
        PsiComment(PerlTokenType.COMMENT_LINE)('# this is a test')
        PsiElement(PerlTokenType.regex)('f')
        PsiElement(PerlTokenType.regex)('a]')
        PsiComment(PerlTokenType.COMMENT_LINE)('(?#somecomment)')
        PsiElement(PerlTokenType.regex)('asdf')
        PsiElement(PerlTokenType.regex)('s')
        PsiElement(PerlTokenType.regex)('df')
      PsiElement(PerlTokenType.r/)('/')
      PsiPerlPerlRegexImpl(PerlElementType.PERL_REGEX)
        PsiElement(PerlTokenType.regex)('as\n    dfa{\n    sdf(\n    asdf[       # this is a test\n    {{{{\n    }}(?#somecomment)\n    [[[[\n    ]]\n\n    ')
      PsiElement(PerlTokenType.r})('/')
      PsiPerlPerlRegexModifiersImpl(PerlElementType.PERL_REGEX_MODIFIERS)
        PsiElement(PerlTokenType./m)('x')
    PsiElement(PerlTokenType.;)(';')
  PsiPerlStatementImpl(PerlElementType.STATEMENT)
    PsiPerlReplacementRegexImpl(PerlElementType.REPLACEMENT_REGEX)
      PsiElement(PerlTokenType.s)('s')
      PsiElement(PerlTokenType.r{)('/')
      PsiPerlPerlRegexImpl(PerlElementType.PERL_REGEX)
        PsiElement(PerlTokenType.regex)('a\n    s\n    d[          # this is a test\n    f\n    a]')
        PsiComment(PerlTokenType.COMMENT_LINE)('(?#somecomment)')
        PsiElement(PerlTokenType.regex)('\n    s\n    df')
      PsiElement(PerlTokenType.r/)('/')
      PsiPerlPerlRegexImpl(PerlElementType.PERL_REGEX)
        PsiElement(PerlTokenType.regex)('as\n    dfa{\n    sdf(\n    asdf[       # this is a test\n    {{{{\n    }}(?#somecomment)\n    [[[[\n    ]]\n\n    ')
      PsiElement(PerlTokenType.r})('/')
    PsiElement(PerlTokenType.;)(';')